<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Qu·∫£n Tr·ªã - SkyDrone</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="../../stylesheets/admin/comfirmed-order-manage.css">
</head>

<body>
<!-- ===== HEADER ===== -->
<header class="main-header">
    <div class="logo">
        <img src="/image/logoo2.png" alt="Logo">
        <h2>SkyDrone Admin</h2>
    </div>
    <div class="header-right">
        <!-- Icon admin + t√™n -->
        <a href="profile-admin.html" class="text-decoration-none text-while">
            <div class="thong-tin-admin d-flex align-items-center gap-2">
                <i class="bi bi-person-circle fs-4"></i>
                <span class="fw-semibold">Admin</span>
            </div>
        </a>

        <button class="logout-btn" id="logoutBtn" title="ƒêƒÉng xu·∫•t">
            <i class="bi bi-box-arrow-right"></i>
        </button>
    </div>
    <div class="logout-modal" id="logoutModal">
        <div class="logout-modal-content">
            <p>B·∫°n c√≥ ch·∫Øc mu·ªën ƒëƒÉng xu·∫•t kh√¥ng?</p>
            <div class="logout-actions">
                <a href="../login.html">
                    <button id="confirmLogout" class="confirm">C√≥</button>
                </a>
                <button id="cancelLogout" class="cancel">Kh√¥ng</button>
            </div>
        </div>
    </div>
</header>

<!-- LAYOUT -->
<div class="layout">
    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="user-info">
            <img src="/image/logoTCN.png" alt="Avatar">
            <h3>M·∫°c Nguy√™n</h3>
            <p>Ch√†o m·ª´ng b·∫°n tr·ªü l·∫°i üëã</p>
        </div>

        <ul class="menu">
            <a href="dashboard.html">
                <li><i class="bi bi-speedometer2"></i> T·ªïng Quan</li>
            </a>
            <a href="customer-manage.html">
                <li><i class="bi bi-person-lines-fill"></i> Qu·∫£n L√Ω T√†i Kho·∫£n</li>
            </a>
            <a href="product-management.html">
                <li><i class="bi bi-box-seam"></i> Qu·∫£n L√Ω S·∫£n Ph·∫©m</li>
            </a>
            <a href="category-manage.html">
                <li><i class="bi bi-tags"></i> Qu·∫£n L√Ω Danh M·ª•c</li>
            </a>

            <li class="has-submenu open">
                <div class="menu-item">
                    <i class="bi bi-truck"></i>
                    <span>Qu·∫£n L√Ω ƒê∆°n H√†ng</span>
                    <i class="bi bi-chevron-right arrow"></i>
                </div>
                <ul class="submenu">
                    <a href="uncomfirmed-order-manage.html">
                        <li>Ch∆∞a X√°c Nh·∫≠n</li>
                    </a>
                    <a href="comfirmed-order-manage.html">
                        <li class="active">ƒê√£ X√°c Nh·∫≠n</li>
                    </a>
                </ul>
            </li>

            <a href="blog-manage.html">
                <li><i class="bi bi-journal-text"></i> Qu·∫£n L√Ω Blog</li>
            </a>
            <a href="promotion-manage.html">
                <li><i class="bi bi-megaphone"></i> Qu·∫£n L√Ω Khuy·∫øn M√£i</li>
            </a>
            <a href="statistics.html">
                <li><i class="bi bi-bar-chart"></i> B√°o C√°o & Th·ªëng K√™</li>
            </a>
        </ul>
    </aside>

    <!-- MAIN -->
    <main class="main-content container-fluid p-4">
        <div class="d-flex flex-wrap justify-content-between align-items-center mb-4 gap-3">
            <h4 class="text-primary fw-bold mb-0"><i class="bi bi-truck"></i> Danh S√°ch Giao H√†ng</h4>

            <div class="d-flex flex-wrap justify-content-between align-items-center gap-3 w-100">

                <!-- L·ªçc b√™n tr√°i -->
                <div class="btn-group shadow-sm" role="group">
                    <button class="btn btn-outline-secondary active filter" data-status="all">
                        <i class="bi bi-list-ul"></i> T·∫•t c·∫£
                    </button>

                    <button class="btn btn-outline-warning filter" data-status="ƒêang x·ª≠ l√Ω">
                        <i class="bi bi-hourglass-split"></i> Ch·ªù x·ª≠ l√Ω
                    </button>

                    <button class="btn btn-outline-primary filter" data-status="ƒêang giao h√†ng">
                        <i class="bi bi-truck"></i> ƒêang giao
                    </button>

                    <button class="btn btn-outline-success filter" data-status="Giao th√†nh c√¥ng">
                        <i class="bi bi-check-circle"></i> Th√†nh c√¥ng
                    </button>

                    <button class="btn btn-outline-danger filter" data-status="Giao th·∫•t b·∫°i">
                        <i class="bi bi-x-circle"></i> Th·∫•t b·∫°i
                    </button>
                </div>

                <!-- T√¨m ki·∫øm b√™n ph·∫£i -->
                <div class="input-group shadow-sm" style="max-width: 300px;">
                    <span class="input-group-text bg-primary text-white"><i class="bi bi-search"></i></span>
                    <input id="search" type="search" class="form-control" placeholder="T√¨m ki·∫øm ƒë∆°n h√†ng...">
                </div>

            </div>
        </div>


        <div class="d-flex justify-content-start align-items-center mb-2">
            <label class="me-2">Hi·ªÉn th·ªã</label>
            <select id="rowsPerPage" class="form-select d-inline-block" style="width:80px;">
                <option value="5">5</option>
                <option value="10" selected>10</option>
                <option value="20">20</option>
            </select>
            <label class="ms-2">ƒë∆°n h√†ng</label>
        </div>
        <!-- TABLE -->
        <table id="tblDonHang" class="table table-striped table-bordered align-middle">
            <thead class="table-primary text-center">
            <tr>
                <th>M√£ VC</th>
                <th>M√£ ƒêH</th>
                <th>M√£ KH</th>
                <th>ƒê·ªãa Ch·ªâ</th>
                <th>Ng√†y Nh·∫≠n</th>
                <th>Tr·∫°ng Th√°i</th>
                <th>Thao T√°c</th>
            </tr>
            </thead>
            <tbody class="text-center" id="orderTableBody">

            <tr>
                <td>GHN123</td>
                <td>HD001</td>
                <td>KH001</td>
                <td>123 Nguy·ªÖn Tr√£i, Q.1, TP.HCM</td>
                <td>08/11/2025</td>
                <td><span class="badge bg-warning text-dark">ƒêang x·ª≠ l√Ω</span></td>
                <td>
                    <button class="btn btn-primary btn-sm view" data-id="HD001">
                        <i class="bi bi-eye"></i> Xem / C·∫≠p Nh·∫≠t
                    </button>
                </td>
            </tr>

            <tr>
                <td>GHTK456</td>
                <td>HD002</td>
                <td>KH002</td>
                <td>45 L√™ L·ª£i, TP. Hu·∫ø</td>
                <td>07/11/2025</td>
                <td><span class="badge bg-primary">ƒêang giao h√†ng</span></td>
                <td>
                    <button class="btn btn-primary btn-sm view" data-id="HD002">
                        <i class="bi bi-eye"></i> Xem / C·∫≠p Nh·∫≠t
                    </button>
                </td>
            </tr>

            <tr>
                <td>VNP789</td>
                <td>HD003</td>
                <td>KH003</td>
                <td>78 Tr·∫ßn H∆∞ng ƒê·∫°o, Q.5, TP.HCM</td>
                <td>06/11/2025</td>
                <td><span class="badge bg-success">Giao th√†nh c√¥ng</span></td>
                <td>
                    <button class="btn btn-primary btn-sm view" data-id="HD003">
                        <i class="bi bi-eye"></i> Xem / C·∫≠p Nh·∫≠t
                    </button>
                </td>
            </tr>

            </tbody>

        </table>
        <div class="d-flex justify-content-end align-items-center mt-3">
            <div class="pagination-controls">
                <button id="prevPage" class="btn btn-outline-primary btn-sm">Tr∆∞·ªõc</button>
                <span id="pageInfo" class="mx-2">1 / 1</span>
                <button id="nextPage" class="btn btn-outline-primary btn-sm">Sau</button>
            </div>
        </div>
    </main>
</div>

<!-- MODAL -->
<div class="modal fade" id="modalDonHang" tabindex="-1">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="bi bi-clipboard-check"></i> Chi Ti·∫øt & C·∫≠p Nh·∫≠t ƒê∆°n H√†ng</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>

            <div class="modal-body">
                <form id="formDonHang">
                    <div class="row g-3">

                        <!-- C·ªòT TR√ÅI -->
                        <div class="col-lg-6">

                            <!-- Th√¥ng tin h√≥a ƒë∆°n -->
                            <div class="info-card">
                                <h6>üßæ Th√¥ng Tin H√≥a ƒê∆°n</h6>

                                <div class="info-row">
                                    <div class="info-label">M√£ H√≥a ƒê∆°n:</div>
                                    <div class="info-value" id="dh-mahd">HD001</div>
                                </div>

                                <div class="info-row">
                                    <div class="info-label">M√£ Kh√°ch H√†ng:</div>
                                    <div class="info-value" id="dh-makh">KH001</div>
                                </div>

                                <div class="info-row">
                                    <div class="info-label">T√™n Kh√°ch H√†ng:</div>
                                    <div class="info-value" id="dh-tenkh">Nguy·ªÖn VƒÉn A</div>
                                </div>

                                <div class="info-row">
                                    <div class="info-label">S·ªë ƒêi·ªán Tho·∫°i:</div>
                                    <div class="info-value" id="dh-sdt">0905123123</div>
                                </div>

                                <div class="info-row">
                                    <div class="info-label">Email:</div>
                                    <div class="info-value" id="dh-email">nguyenvana@gmail.com</div>
                                </div>

                                <div class="info-row">
                                    <div class="info-label">Ng√†y L·∫≠p:</div>
                                    <div class="info-value" id="dh-ngaylap">2025-02-14</div>
                                </div>
                            </div>

                            <!-- Th√¥ng tin giao h√†ng -->
                            <div class="info-card">
                                <h6>üöö Th√¥ng Tin Giao H√†ng</h6>

                                <div class="mb-3">
                                    <label class="form-label">ƒê·ªãa Ch·ªâ Giao H√†ng</label>
                                    <input type="text" class="form-control" id="dh-diachi"
                                           value="123 Nguy·ªÖn Tr√£i, Qu·∫≠n 1, TP.HCM">
                                </div>

                                <div class="info-row">
                                    <div class="info-label">M√£ V·∫≠n Chuy·ªÉn:</div>
                                    <div class="info-value" id="dh-mavc">GHN123</div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Ng√†y Nh·∫≠n D·ª± Ki·∫øn</label>
                                    <input type="date" class="form-control" id="dh-ngaynhan" value="2025-02-20">
                                </div>

                                <div class="info-row">
                                    <div class="info-label">Ph√≠ V·∫≠n Chuy·ªÉn:</div>
                                    <div class="info-value" id="dh-phivc">35,000‚Ç´</div>
                                </div>
                            </div>
                        </div>

                        <!-- C·ªòT PH·∫¢I -->
                        <div class="col-lg-6">

                            <!-- Danh s√°ch s·∫£n ph·∫©m -->
                            <div class="info-card">
                                <h6>üì¶ Danh S√°ch S·∫£n Ph·∫©m</h6>

                                <table class="product-table table-sm">
                                    <thead>
                                    <tr>
                                        <th style="width: 50%">T√™n S·∫£n Ph·∫©m</th>
                                        <th style="width: 15%">SL</th>
                                        <th style="width: 35%">ƒê∆°n Gi√°</th>
                                    </tr>
                                    </thead>

                                    <tbody id="dh-sanpham">
                                    <tr>
                                        <td>Flycam Mini 4K</td>
                                        <td>1</td>
                                        <td>2,500,000‚Ç´</td>
                                    </tr>
                                    <tr>
                                        <td>Pin D·ª± Ph√≤ng Drone</td>
                                        <td>2</td>
                                        <td>450,000‚Ç´</td>
                                    </tr>
                                    </tbody>
                                </table>

                                <div class="total-row">
                                    T·ªïng Ti·ªÅn: <span id="dh-tong">3,400,000‚Ç´</span>
                                </div>
                            </div>

                            <!-- Th√¥ng tin thanh to√°n -->
                            <div class="info-card">
                                <h6>üí≥ Th√¥ng Tin Thanh To√°n & V·∫≠n Chuy·ªÉn</h6>

                                <div class="mb-3">
                                    <label class="form-label">H√¨nh Th·ª©c Thanh To√°n</label>
                                    <input type="text" class="form-control" id="dh-httt"
                                           value="Thanh to√°n khi nh·∫≠n h√†ng" readonly>
                                </div>

                                <div class="info-row">
                                    <div class="info-label">Tr·∫°ng Th√°i Thanh To√°n:</div>
                                    <div class="info-value" id="dh-tttt">Ch∆∞a thanh to√°n</div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Tr·∫°ng Th√°i V·∫≠n Chuy·ªÉn</label>
                                    <select class="form-select" id="dh-ttvc">
                                        <option selected>ƒêang x·ª≠ l√Ω</option>
                                        <option>ƒêang giao h√†ng</option>
                                        <option>Giao th√†nh c√¥ng</option>
                                        <option>Giao th·∫•t b·∫°i</option>
                                    </select>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">Ghi Ch√∫</label>
                                    <textarea class="form-control" id="dh-note"
                                              rows="3">Kh√°ch c·∫ßn g·ªçi tr∆∞·ªõc khi giao.</textarea>
                                </div>

                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    <i class="bi bi-x-circle"></i> ƒê√≥ng
                </button>

                <button type="submit" form="formDonHang" class="btn btn-success">
                    <i class="bi bi-check-circle"></i> L∆∞u Thay ƒê·ªïi
                </button>
            </div>
        </div>
    </div>
</div>


<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function () {

        const searchInput = document.getElementById("search");
        const filterButtons = document.querySelectorAll(".filter");
        const tableBody = document.getElementById("orderTableBody");

        searchInput.addEventListener("keyup", function () {
            const keyword = this.value.toLowerCase().trim();
            const rows = tableBody.querySelectorAll("tr");

            rows.forEach(row => {
                const text = row.innerText.toLowerCase();
                row.style.display = text.includes(keyword) ? "" : "none";
            });
        });

        filterButtons.forEach(btn => {
            btn.addEventListener("click", function () {

                // Active button
                filterButtons.forEach(b => b.classList.remove("active"));
                this.classList.add("active");

                const status = this.getAttribute("data-status");
                const rows = tableBody.querySelectorAll("tr");

                rows.forEach(row => {
                    const rowStatus = row.querySelector("td:nth-child(6)").innerText.trim();

                    if (status === "all") {
                        row.style.display = "";
                    } else {
                        row.style.display = rowStatus.includes(status) ? "" : "none";
                    }
                });
            });
        });

        document.querySelectorAll(".view").forEach(btn => {
            btn.addEventListener("click", function () {
                const modal = new bootstrap.Modal(document.getElementById("modalDonHang"));
                modal.show();
            });
        });

        document.getElementById("formDonHang").addEventListener("submit", function (e) {
            e.preventDefault();
            alert("L∆∞u th√†nh c√¥ng (demo)!");
            const modal = bootstrap.Modal.getInstance(document.getElementById("modalDonHang"));
            modal.hide();
        });

    });
</script>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const logoutBtn = document.getElementById("logoutBtn");
        const logoutModal = document.getElementById("logoutModal");
        const cancelLogout = document.getElementById("cancelLogout");

        // M·ªü popup
        logoutBtn.addEventListener("click", function () {
            logoutModal.style.display = "flex";
        });

        // ƒê√≥ng popup
        cancelLogout.addEventListener("click", function () {
            logoutModal.style.display = "none";
        });
    });
</script>
</body>
</html>